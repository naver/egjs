/**
* egjs
* @version 0.0.3-snapshot
* @SHA-1 27591e1
*
* NAVER corp; egjs JavaScript library
* http://egjs.github.io
*
* Released under the MIT license
* https://egjs.github.io/license.txt
*
* For custom build use egjs-cli
* https://github.com/egjs/egjs-cli
*/
/**
* All-in-one packaged file for ease use of 'eg.flicking' with below dependencies.
* NOTE: This is not an official distribution file and is only for user convenience.
*
* bower_components/hammer.js/hammer.js
* src/module.js
* src/eg.js
* src/class.js
* src/component.js
* src/hook/css.js
* src/movableCoord.js
* src/flicking.js
*/
!function(a,b,c,d){function e(a,b,c){return setTimeout(k(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a}function i(a,b){return h(a,b,!0)}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&h(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==ka?a.apply(b?b[0]||d:d,b):a}function m(a,b){return a===d?b:a}function n(a,b,c){g(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){g(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];s(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function v(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ia.length;){if(c=ia[g],e=c?c+f:b,e in a)return e;g++}return d}function w(){return oa++}function x(a){var b=a.ownerDocument;return b.defaultView||b.parentWindow}function y(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){l(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a){var b,c=a.options.inputClass;return new(b=c?c:ra?N:sa?Q:qa?S:M)(a,A)}function A(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&ya&&d-e===0,g=b&(Aa|Ba)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,B(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function B(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=E(b)),e>1&&!c.firstMultiple?c.firstMultiple=E(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=F(d);b.timeStamp=na(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=J(h,i),b.distance=I(h,i),C(c,b),b.offsetDirection=H(b.deltaX,b.deltaY),b.scale=g?L(g.pointers,d):1,b.rotation=g?K(g.pointers,d):0,D(c,b);var j=a.element;p(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j}function C(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===ya||f.eventType===Aa)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function D(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ba&&(i>xa||h.velocity===d)){var j=h.deltaX-b.deltaX,k=h.deltaY-b.deltaY,l=G(i,j,k);e=l.x,f=l.y,c=ma(l.x)>ma(l.y)?l.x:l.y,g=H(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function E(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:la(a.pointers[c].clientX),clientY:la(a.pointers[c].clientY)},c++;return{timeStamp:na(),pointers:b,center:F(b),deltaX:a.deltaX,deltaY:a.deltaY}}function F(a){var b=a.length;if(1===b)return{x:la(a[0].clientX),y:la(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:la(c/b),y:la(d/b)}}function G(a,b,c){return{x:b/a||0,y:c/a||0}}function H(a,b){return a===b?Ca:ma(a)>=ma(b)?a>0?Da:Ea:b>0?Fa:Ga}function I(a,b,c){c||(c=Ka);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function J(a,b,c){c||(c=Ka);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function K(a,b){return J(b[1],b[0],La)-J(a[1],a[0],La)}function L(a,b){return I(b[0],b[1],La)/I(a[0],a[1],La)}function M(){this.evEl=Na,this.evWin=Oa,this.allow=!0,this.pressed=!1,y.apply(this,arguments)}function N(){this.evEl=Ra,this.evWin=Sa,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function O(){this.evTarget=Ua,this.evWin=Va,this.started=!1,y.apply(this,arguments)}function P(a,b){var c=t(a.touches),d=t(a.changedTouches);return b&(Aa|Ba)&&(c=u(c.concat(d),"identifier",!0)),[c,d]}function Q(){this.evTarget=Xa,this.targetIds={},y.apply(this,arguments)}function R(a,b){var c=t(a.touches),d=this.targetIds;if(b&(ya|za)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=t(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return p(a.target,i)}),b===ya)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Aa|Ba)&&delete d[g[e].identifier],e++;return h.length?[u(f.concat(h),"identifier",!0),h]:void 0}function S(){y.apply(this,arguments);var a=k(this.handler,this);this.touch=new Q(this.manager,a),this.mouse=new M(this.manager,a)}function T(a,b){this.manager=a,this.set(b)}function U(a){if(q(a,bb))return bb;var b=q(a,cb),c=q(a,db);return b&&c?cb+" "+db:b||c?b?cb:db:q(a,ab)?ab:_a}function V(a){this.id=w(),this.manager=null,this.options=i(a||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=eb,this.simultaneous={},this.requireFail=[]}function W(a){return a&jb?"cancel":a&hb?"end":a&gb?"move":a&fb?"start":""}function X(a){return a==Ga?"down":a==Fa?"up":a==Da?"left":a==Ea?"right":""}function Y(a,b){var c=b.manager;return c?c.get(a):a}function Z(){V.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function _(){Z.apply(this,arguments)}function aa(){V.apply(this,arguments),this._timer=null,this._input=null}function ba(){Z.apply(this,arguments)}function ca(){Z.apply(this,arguments)}function da(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ea(a,b){return b=b||{},b.recognizers=m(b.recognizers,ea.defaults.preset),new fa(a,b)}function fa(a,b){b=b||{},this.options=i(b,ea.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=z(this),this.touchAction=new T(this,this.options.touchAction),ga(this,!0),g(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ga(a,b){var c=a.element;g(a.options.cssProps,function(a,d){c.style[v(c.style,d)]=b?a:""})}function ha(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var ia=["","webkit","moz","MS","ms","o"],ja=b.createElement("div"),ka="function",la=Math.round,ma=Math.abs,na=Date.now,oa=1,pa=/mobile|tablet|ip(ad|hone|od)|android/i,qa="ontouchstart"in a,ra=v(a,"PointerEvent")!==d,sa=qa&&pa.test(navigator.userAgent),ta="touch",ua="pen",va="mouse",wa="kinect",xa=25,ya=1,za=2,Aa=4,Ba=8,Ca=1,Da=2,Ea=4,Fa=8,Ga=16,Ha=Da|Ea,Ia=Fa|Ga,Ja=Ha|Ia,Ka=["x","y"],La=["clientX","clientY"];y.prototype={handler:function(){},init:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(x(this.element),this.evWin,this.domHandler)}};var Ma={mousedown:ya,mousemove:za,mouseup:Aa},Na="mousedown",Oa="mousemove mouseup";j(M,y,{handler:function(a){var b=Ma[a.type];b&ya&&0===a.button&&(this.pressed=!0),b&za&&1!==a.which&&(b=Aa),this.pressed&&this.allow&&(b&Aa&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:va,srcEvent:a}))}});var Pa={pointerdown:ya,pointermove:za,pointerup:Aa,pointercancel:Ba,pointerout:Ba},Qa={2:ta,3:ua,4:va,5:wa},Ra="pointerdown",Sa="pointermove pointerup pointercancel";a.MSPointerEvent&&(Ra="MSPointerDown",Sa="MSPointerMove MSPointerUp MSPointerCancel"),j(N,y,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Pa[d],f=Qa[a.pointerType]||a.pointerType,g=f==ta,h=s(b,a.pointerId,"pointerId");e&ya&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Aa|Ba)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Ta={touchstart:ya,touchmove:za,touchend:Aa,touchcancel:Ba},Ua="touchstart",Va="touchstart touchmove touchend touchcancel";j(O,y,{handler:function(a){var b=Ta[a.type];if(b===ya&&(this.started=!0),this.started){var c=P.call(this,a,b);b&(Aa|Ba)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:ta,srcEvent:a})}}});var Wa={touchstart:ya,touchmove:za,touchend:Aa,touchcancel:Ba},Xa="touchstart touchmove touchend touchcancel";j(Q,y,{handler:function(a){var b=Wa[a.type],c=R.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:ta,srcEvent:a})}}),j(S,y,{handler:function(a,b,c){var d=c.pointerType==ta,e=c.pointerType==va;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(Aa|Ba)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ya=v(ja.style,"touchAction"),Za=Ya!==d,$a="compute",_a="auto",ab="manipulation",bb="none",cb="pan-x",db="pan-y";T.prototype={set:function(a){a==$a&&(a=this.compute()),Za&&(this.manager.element.style[Ya]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),U(a.join(" "))},preventDefaults:function(a){if(!Za){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=q(d,bb),f=q(d,db),g=q(d,cb);return e||f&&c&Ha||g&&c&Ia?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var eb=1,fb=2,gb=4,hb=8,ib=hb,jb=16,kb=32;V.prototype={defaults:{},set:function(a){return h(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=Y(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=Y(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=Y(a,this),-1===s(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=Y(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(c.options.event+(b?W(d):""),a)}var c=this,d=this.state;hb>d&&b(!0),b(),d>=hb&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=kb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(kb|eb)))return!1;a++}return!0},recognize:function(a){var b=h({},a);return l(this.options.enable,[this,b])?(this.state&(ib|jb|kb)&&(this.state=eb),this.state=this.process(b),void(this.state&(fb|gb|hb|jb)&&this.tryEmit(b))):(this.reset(),void(this.state=kb))},process:function(){},getTouchAction:function(){},reset:function(){}},j(Z,V,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(fb|gb),e=this.attrTest(a);return d&&(c&Ba||!e)?b|jb:d||e?c&Aa?b|hb:b&fb?b|gb:fb:kb}}),j($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ja},getTouchAction:function(){var a=this.options.direction,b=[];return a&Ha&&b.push(db),a&Ia&&b.push(cb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Ha?(e=0===f?Ca:0>f?Da:Ea,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ca:0>g?Fa:Ga,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Z.prototype.attrTest.call(this,a)&&(this.state&fb||!(this.state&fb)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this._super.emit.call(this,a)}}),j(_,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&fb)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),j(aa,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[_a]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Aa|Ba)&&!f)this.reset();else if(a.eventType&ya)this.reset(),this._timer=e(function(){this.state=ib,this.tryEmit()},b.time,this);else if(a.eventType&Aa)return ib;return kb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===ib&&(a&&a.eventType&Aa?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=na(),this.manager.emit(this.options.event,this._input)))}}),j(ba,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&fb)}}),j(ca,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ha|Ia,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Ha|Ia)?b=a.velocity:c&Ha?b=a.velocityX:c&Ia&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&a.distance>this.options.threshold&&ma(b)>this.options.velocity&&a.eventType&Aa},emit:function(a){var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(da,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ab]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&ya&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Aa)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||I(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=ib,this.tryEmit()},b.interval,this),fb):ib}return kb},failTimeout:function(){return this._timer=e(function(){this.state=kb},this.options.interval,this),kb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ib&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ea.VERSION="2.0.4",ea.defaults={domEvents:!1,touchAction:$a,enable:!0,inputTarget:null,inputClass:null,preset:[[ba,{enable:!1}],[_,{enable:!1},["rotate"]],[ca,{direction:Ha}],[$,{direction:Ha},["swipe"]],[da],[da,{event:"doubletap",taps:2},["tap"]],[aa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var lb=1,mb=2;fa.prototype={set:function(a){return h(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?mb:lb},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&ib)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===mb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(fb|gb|hb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof V)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(s(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return g(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return g(r(a),function(a){b?c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&ha(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ga(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(ea,{INPUT_START:ya,INPUT_MOVE:za,INPUT_END:Aa,INPUT_CANCEL:Ba,STATE_POSSIBLE:eb,STATE_BEGAN:fb,STATE_CHANGED:gb,STATE_ENDED:hb,STATE_RECOGNIZED:ib,STATE_CANCELLED:jb,STATE_FAILED:kb,DIRECTION_NONE:Ca,DIRECTION_LEFT:Da,DIRECTION_RIGHT:Ea,DIRECTION_UP:Fa,DIRECTION_DOWN:Ga,DIRECTION_HORIZONTAL:Ha,DIRECTION_VERTICAL:Ia,DIRECTION_ALL:Ja,Manager:fa,Input:y,TouchAction:T,TouchInput:Q,MouseInput:M,PointerEventInput:N,TouchMouseInput:S,SingleTouchInput:O,Recognizer:V,AttrRecognizer:Z,Tap:da,Pan:$,Swipe:ca,Pinch:_,Rotate:ba,Press:aa,on:n,off:o,each:g,merge:i,extend:h,inherit:j,bindFn:k,prefixed:v}),typeof define==ka&&define.amd?define(function(){return ea}):"undefined"!=typeof module&&module.exports?module.exports=ea:a[c]=ea}(window,document,"Hammer"),function(a,b,c){function d(a){return a>2?a+1+"th":m[a]}function e(a,b){var c;for(c in b)a=a.replace(new RegExp("{{"+c+"}}","gi"),b[c]);return a}function f(a,b){for(var f,g,h,i,j,m,n,o,p=0,q=b.length,r=[],s=[],t=c.require;q>p;p++)g=b[p],h={index:d(p),name:g,componentName:a},i="string"==typeof b[p],j=void 0===b[p],m=i&&(f=k[b[p]]),n=i&&f&&!c[b[p]],o=n&&t&&t.specified(b[p]),i||j?o&&t.defined(b[p])?(g=t(b[p]),s.push(g)):!o||t.defined(b[p])?n&&t&&!t.specified(b[p])?(h.url=f.url,r.push(e(l[1],h))):!n||t?m&&c[b[p]]?(g=c[b[p]],s.push(g)):!i||f?void 0!==b[p]||r.push(e(l[4],h)):r.push(e(l[3],h)):(h.url=f.url,r.push(e(l[2],h))):(h.url=f.url,r.push(e(l[0],h))):s.push(g);return[s,r]}function g(a){return a.charAt(0).toUpperCase()+a.slice(1)}function h(a){var c,d,e,f=g(a);if(!i[f]||!i[f].prototype._events)return!1;if(j.fn[a])throw new Error("The name '"+f+"' has already been used and registered as plugin. Try with different one.");j.fn[a]=function(c){var d,e;return"string"==typeof c?(d=this.data(b+"-"+a),"instance"===c?d:(e=d[c].apply(d,Array.prototype.slice.call(arguments,1)),e===d?this:e)):((void 0===c||j.isPlainObject(c))&&this.data(b+"-"+a,new i[f](this,c||{},a+":")),this)},e={trigger:"trigger",add:"on",remove:"off"},c=i[f].prototype._events();for(var h in c){d=j.event.special[a+":"+c[h]]={},d.setup=function(){return!0};for(var k in e)d[k]=function(c){return function(d,e){return j(this).data(b+"-"+a)[c](d.type,"trigger"===c?e:d.handler),!1}}(e[k])}}var i=c[b]={},j=c[a],k={jQuery:{url:"http://jquery.com/"},Hammer:{url:"http://hammerjs.github.io/"},Outlayer:{url:"https://github.com/metafizzy/outlayer/"}},l=["[egjs] The {{name}} library must be loaded before {{componentName}}.",'[egjs] For AMD environment (like RequireJS), "{{name}}" must be declared, which is required by {{componentName}}.',"[egjs] The {{index}} argument of {{componentName}} is missing.\r\nDownload {{name}} from [{{url}}].","[egjs] The {{name}} parameter of {{componentName}} is not valid.\r\nPlease check and try again.","[egjs] The {{index}} argument of {{componentName}} is undefined.\r\nPlease check and try again."],m=["1st","2nd","3rd"],n=function(a){(n=c.console&&c.console.warn?function(a){c.console.warn(a)}:function(){})(a)};i.module=function(a,b,d){var e=f(a,b);e[1].length?n(e[1].join("\r\n")):(d.apply(c,e[0]),h(a))}}("jQuery","eg",window),eg.module("eg",["jQuery",eg,window],function(a,b,c){function d(a,b,c,d){var e=a.hook[b];return e&&(d=e.apply(a,c)),a[b]=function(){var e=a.hook[b];return e?e.apply(a,c):d},d}var e=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.msRequestAnimationFrame,f=c.cancelAnimationFrame||c.webkitCancelAnimationFrame||c.mozCancelAnimationFrame||c.msCancelAnimationFrame;if(e&&!f){var g={},h=e;e=function(a){function b(){g[c]&&a()}var c=h(b);return g[c]=!0,c},f=function(a){delete g[a]}}else e&&f||(e=function(a){return c.setTimeout(a,16)},f=c.clearTimeout);b.VERSION="0.0.3-snapshot",b.hook={};var i={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/SAMSUNG|SamsungBrowser/,identity:"SBrowser",versionSearch:"Chrome"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"default"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone|Windows NT/,identity:"Window",versionSearch:"Windows Phone|Windows NT"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"default"},os:{version:"-1",name:"unknown"}}},j={getBrowserName:function(a){return this.getIdentityStringFromArray(a,i.defaultString.browser)},getBrowserVersion:function(a){var b,c;return a?(c=this.getBrowserRule(a).versionSearch||a,b=this.extractBrowserVersion(c,this.ua)):void 0},extractBrowserVersion:function(a,b){var c,d,e=i.defaultString.browser.version,f=new RegExp("("+a+")","i").exec(b);return f?(d=f.index,a=f[0],d>-1&&(c=d+a.length+1,e=b.substring(c).split(" ")[0].replace(/_/g,".").replace(/\;|\)/g,"")),e):e},getOSName:function(a){return this.getIdentityStringFromArray(a,i.defaultString.os)},getOSVersion:function(a){var b,c,d,e,f=this.ua,g=this.getOSRule(a)||{},h=i.defaultString.os.version;return a?g.versionAlias?g.versionAlias:(c=g.versionSearch||a,d=new RegExp("("+c+")\\s([\\d_\\.]+|\\d_0)","i"),e=d.exec(f),e&&(b=d.exec(f)[2].replace(/_/g,".").replace(/\;|\)/g,"")),b||h):void 0},getOSRule:function(a){return this.getRule(i.os,a)},getBrowserRule:function(a){return this.getRule(i.browser,a)},getRule:function(a,b){for(var c,d,e,f=0;e=a[f];f++)if(c=e.criteria,d=new RegExp(e.identity,"i").test(b),c?d&&this.isMatched(this.ua,c):d)return e},getIdentityStringFromArray:function(a,b){for(var c,d=0;c=a[d];d++)if(this.isMatched(this.ua,c.criteria))return c.identity||b.name;return b.name},isMatched:function(a,b){return b&&b.test?!!b.test(a):a.indexOf(b)>-1},isWebview:function(){for(var a,b,c=this.ua,d=i.webview,e=!1,f=0;b=d[f];f++)if(this.isMatched(c,b.criteria)&&(a=this.extractBrowserVersion(b.browserVersionSearch,c),this.isMatched(c,b.webviewToken)||this.isMatched(a,b.webviewBrowserVersion))){e=!0;break}return e}};j.create=function(a){j.ua=a;var b={os:{},browser:{}};return b.browser.name=j.getBrowserName(i.browser),b.browser.version=j.getBrowserVersion(b.browser.name),b.os.name=j.getOSName(i.os),b.os.version=j.getOSVersion(b.os.name),b.browser.webview=j.isWebview(),b.browser.name=b.browser.name.toLowerCase(),b.os.name=b.os.name.toLowerCase(),b},b.agent=function(a){var b=j.create(a||navigator.userAgent);return d(this,"agent",[b],b)},b.translate=function(a,b,c){return c=c||!1,"translate"+(c?"3d(":"(")+a+","+b+(c?",0)":")")},b.isHWAccelerable=function(){var a,c=!1,e=b.agent(),f=e.os.version,g=e.browser.name,h=e.browser.version;return-1!==g.indexOf("chrome")?c=h>="25":/ie|edge|firefox|safari|inapp/.test(g)?c=!0:-1!==e.os.name.indexOf("android")&&(a=(j.ua.match(/\(.*\)/)||[null])[0],c=f>="4.1.0"&&!/EK-GN120|SM-G386F/.test(a)||f>="4.0.3"&&/SHW-|SHV-|GT-|SCH-|SGH-|SPH-|LG-F160|LG-F100|LG-F180|LG-F200|EK-|IM-A|LG-F240|LG-F260/.test(a)&&!/SHW-M420|SHW-M200|GT-S7562/.test(a)),d(this,"isHWAccelerable",[c,e],c)},b.isTransitional=function(){var a=!1,c=b.agent(),e=c.browser.name;if(/chrome|firefox/.test(e))a=!0;else switch(c.os.name){case"ios":a=/safari|inapp/.test(e)&&parseInt(c.os.version,10)<6;break;case"window":a=-1!==e.indexOf("safari")||-1!==e.indexOf("ie")&&parseInt(c.browser.nativeVersion,10)>=10;break;default:a=/chrome|firefox|safari/.test(e)}return d(this,"isTransitional",[a,c],a)},b._hasClickBug=function(){var a=this.agent(),b="safari"===a.browser.name;return d(this,"_hasClickBug",[b,a],b)},b.requestAnimationFrame=function(a){return e(a)},b.cancelAnimationFrame=function(a){f(a)},a.extend(a.easing,{easeOutCubic:function(a){return 1-Math.pow(1-a,3)}})}),eg.module("class",[eg],function(a){a.Class=function(a){var b=function(){"function"==typeof a.construct&&a.construct.apply(this,arguments)};return b.prototype=a,b.prototype.constructor=b,b},a.Class.extend=function(a,b){var c=function(){a.apply(this,arguments),"function"==typeof b.construct&&b.construct.apply(this,arguments)},d=function(){};d.prototype=a.prototype;var e=new d;for(var f in b)e[f]=b[f];return e.constructor=c,c.prototype=e,c}}),eg.module("component",[eg],function(a){a.Component=a.Class({construct:function(){this.eventHandler={}},option:function(a,b){if(arguments.length>=2)return this.options[a]=b,this;if("string"==typeof a)return this.options[a];if(0===arguments.length)return this.options;for(var c in a)this.options[c]=a[c];return this},trigger:function(a,b){b=b||{};var c=this.eventHandler[a]||[],d=c.length>0;if(!d)return!0;c=c.concat(),b.eventType=a;var e,f,g,h=!1,i=[b];for(b.stop=function(){h=!0},(f=arguments.length)>2&&(i=i.concat(Array.prototype.slice.call(arguments,2,f))),e=0;g=c[e];e++)g.apply(this,i);return!h},hasOn:function(a){return!!this.eventHandler[a]},on:function(a,b){if("object"==typeof a&&"undefined"==typeof b){var c,d=a;for(c in d)this.on(c,d[c]);return this}if("string"==typeof a&&"function"==typeof b){var e=this.eventHandler[a];"undefined"==typeof e&&(e=this.eventHandler[a]=[]),e.push(b)}return this},off:function(a,b){if(0===arguments.length)return this.eventHandler={},this;if("undefined"==typeof b){if("string"==typeof a)return this.eventHandler[a]=void 0,this;var c=a;for(var d in c)this.off(d,c[d]);return this}var e=this.eventHandler[a];if(e){var f,g;for(f=0,g;g=e[f];f++)if(g===b){e=e.splice(f,1);break}}return this},instance:function(){return this}})}),eg.module("css",["jQuery",document],function(a,b){if(!a.cssHooks)throw new Error("jQuery 1.4.3+ is needed for this plugin to work");if(!(a.fn&&a.fn.jquery&&a.fn.jquery.replace(/\./,"")>="18")){var c=["Webkit","Moz","O","ms"],d=["transitionProperty","transitionDuration","transition","transform","transitionTimingFunction"],e=function(){for(var a=(b.head||b.getElementsByTagName("head")[0]).style,d=0,e=c.length;e>d;d++)if(c[d]+"Transition"in a)return c[d]}();if(e){for(var f=function(b){var c=b.charAt(0).toUpperCase()+b.slice(1),d=e+c,f="ms"===e?"Ms"+c:d;a.cssHooks[c]=a.cssHooks[e.toLowerCase()+c]=a.cssHooks[b]={get:function(b,c){return c?a.css(b,f):b.style[d]},set:function(a,b){a.style[d]=b}}},g=0,h=d.length;h>g;g++)f(d[g]);return{vendorPrefix:e,setCssHooks:f}}}}),eg.module("movableCoord",["jQuery",eg,"Hammer"],function(a,b,c){var d="ontouchstart"in window,e=b.MovableCoord=b.Class.extend(b.Component,{construct:function(b){this.options={min:[0,0],max:[100,100],bounce:[10,10,10,10],margin:[0,0,0,0],circular:[!1,!1,!1,!1],easing:a.easing.easeOutCubic,maximumDuration:1/0,deceleration:6e-4},this._reviseOptions(b),this._status={grabOutside:!1,curHammer:null,moveDistance:null,animationParam:null,prevented:!1},this._hammers={},this._pos=this.options.min.concat(),this._subOptions={},this._raf=null,this._animationEnd=a.proxy(this._animationEnd,this),this._panmove=a.proxy(this._panmove,this),this._panend=a.proxy(this._panend,this)},bind:function(b,c){var d=a(b),f=d.data(e._KEY),g={direction:e.DIRECTION_ALL,scale:[1,1],thresholdAngle:45,interruptable:!0,inputType:["touch","mouse"]};a.extend(g,c);var h=this._convertInputType(g.inputType);return h?(f?this._hammers[f].get("pan").set({direction:g.direction}):(f=Math.round(Math.random()*(new Date).getTime()),this._hammers[f]=this._createHammer(d.get(0),g,h),d.data(e._KEY,f)),this):this},_createHammer:function(b,d,e){try{var f=new c.Manager(b,{recognizers:[[c.Tap,{time:3e4}],[c.Pan,{direction:d.direction,threshold:0},["tap"]]],cssProps:{},inputClass:e});return f.on("hammer.input",a.proxy(function(a){a.isFirst&&(this._subOptions=d,this._status.curHammer=f,this._panstart(a))},this)).on("panstart panmove",this._panmove).on("panend tap",this._panend)}catch(g){}},_convertInputType:function(b){var e=!1,f=!1;return b=b||[],a.each(b,function(a,b){switch(b){case"mouse":f=!0;break;case"touch":e=d}}),e&&c.TouchInput||f&&c.MouseInput||null},unbind:function(b){var c=a(b),d=c.data(e._KEY);return d&&(this._hammers[d].destroy(),delete this._hammers[d],c.data(e._KEY,null)),this},_grab:function(){this._status.animationParam&&(this._pos=this._getCircularPos(this._pos),this._triggerChange(this._pos,!0),this._status.animationParam=null,this._raf&&b.cancelAnimationFrame(this._raf),this._raf=null)},_getCircularPos:function(a,b,c,d){return b=b||this.options.min,c=c||this.options.max,d=d||this.options.circular,d[0]&&a[1]<b[1]&&(a[1]=(a[1]-b[1])%(c[1]-b[1]+1)+c[1]),d[1]&&a[0]>c[0]&&(a[0]=(a[0]-b[0])%(c[0]-b[0]+1)+b[0]),d[2]&&a[1]>c[1]&&(a[1]=(a[1]-b[1])%(c[1]-b[1]+1)+b[1]),d[3]&&a[0]<b[0]&&(a[0]=(a[0]-b[0])%(c[0]-b[0]+1)+c[0]),a[0]=+a[0].toFixed(5),a[1]=+a[1].toFixed(5),a},_isOutside:function(a,b,c){return a[0]<b[0]||a[1]<b[1]||a[0]>c[0]||a[1]>c[1]},_isOutToOut:function(a,b,c,d){return(a[0]<c[0]||a[0]>d[0]||a[1]<c[1]||a[1]>d[1])&&(b[0]<c[0]||b[0]>d[0]||b[1]<c[1]||b[1]>d[1])},_panstart:function(a){if(this._subOptions.interruptable||!this._status.prevented){this._setInterrupt(!0);var b=this._pos;this._grab(),this.trigger("hold",{pos:b.concat(),hammerEvent:a}),this._status.moveDistance=b.concat(),this._status.grabOutside=this._isOutside(b,this.options.min,this.options.max)}},_panmove:function(a){if(this._isInterrupting()&&this._status.moveDistance){var b,c,d,f=this._pos,g=this.options.min,h=this.options.max,i=this.options.bounce,j=this.options.margin,k=this._subOptions.direction,l=this._subOptions.scale,m=this._getDirection(a.angle),n=[j[0]+i[0],j[1]+i[1],j[2]+i[2],j[3]+i[3]],o=!1,p=this._status.curHammer.session.prevInput;if(p?(a.offsetX=a.deltaX-p.deltaX,a.offsetY=a.deltaY-p.deltaY):a.offsetX=a.offsetY=0,(k===e.DIRECTION_ALL||k&e.DIRECTION_HORIZONTAL&&m&e.DIRECTION_HORIZONTAL)&&(this._status.moveDistance[0]+=a.offsetX*l[0],o=!0),(k===e.DIRECTION_ALL||k&e.DIRECTION_VERTICAL&&m&e.DIRECTION_VERTICAL)&&(this._status.moveDistance[1]+=a.offsetY*l[1],o=!0),o&&(a.srcEvent.preventDefault(),a.srcEvent.stopPropagation()),a.preventSystemEvent=o,f[0]=this._status.moveDistance[0],f[1]=this._status.moveDistance[1],f=this._getCircularPos(f,g,h),this._status.grabOutside&&!this._isOutside(f,g,h)&&(this._status.grabOutside=!1),this._status.grabOutside)c=g[0]-n[3],d=h[0]+n[1],b=f[0],f[0]=b>d?d:c>b?c:b,c=g[1]-n[0],d=h[1]+n[2],b=f[1],f[1]=b>d?d:c>b?c:b;else{var q=this._initSlope();f[1]<g[1]?(b=(g[1]-f[1])/(n[0]*q),f[1]=g[1]-this._easing(b)*n[0]):f[1]>h[1]&&(b=(f[1]-h[1])/(n[2]*q),
f[1]=h[1]+this._easing(b)*n[2]),f[0]<g[0]?(b=(g[0]-f[0])/(n[3]*q),f[0]=g[0]-this._easing(b)*n[3]):f[0]>h[0]&&(b=(f[0]-h[0])/(n[1]*q),f[0]=h[0]+this._easing(b)*n[1])}this._triggerChange(f,!0,a)}},_panend:function(a){var b=this._pos;if(this._isInterrupting()&&this._status.moveDistance){if("tap"===a.type)this._setInterrupt(!1),this.trigger("release",{depaPos:b.concat(),destPos:b.concat(),hammerEvent:a||null});else{var c=this._subOptions.direction,d=this._subOptions.scale,f=Math.abs(a.velocityX),g=Math.abs(a.velocityY);!(c&e.DIRECTION_HORIZONTAL)&&(f=0),!(c&e.DIRECTION_VERTICAL)&&(g=0),this._animateBy(this._getNextOffsetPos([f*(a.deltaX<0?-1:1)*d[0],g*(a.deltaY<0?-1:1)*d[1]]),this._animationEnd,!1,null,a)}this._status.moveDistance=null}},_isInterrupting:function(){return this._subOptions.interruptable||this._status.prevented},_getDirection:function(a){var b=this._subOptions.thresholdAngle;return 0>b||b>90?e.DIRECTION_NONE:(a=Math.abs(a),a>b&&180-b>a?e.DIRECTION_VERTICAL:e.DIRECTION_HORIZONTAL)},_animationEnd:function(){var b=this._pos,c=this.options.min,d=this.options.max;this._animateTo([Math.min(d[0],Math.max(c[0],b[0])),Math.min(d[1],Math.max(c[1],b[1]))],a.proxy(this.trigger,this,"animationEnd"),!0,null)},_getNextOffsetPos:function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.abs(b/-this.options.deceleration);return[a[0]/2*c,a[1]/2*c]},_getDurationFromPos:function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(b/this.options.deceleration*2);return 100>c?0:c},_animateBy:function(a,b,c,d,e){var f=this._pos;return this._animateTo([f[0]+a[0],f[1]+a[1]],b,c,d,e)},_getPointOfIntersection:function(a,b){var c,d,e=this.options.circular,f=this.options.bounce,g=this.options.min,h=this.options.max,i=[g[0]-f[3],g[1]-f[0]],j=[h[0]+f[1],h[1]+f[2]];return b=[b[0],b[1]],c=b[0]-a[0],d=b[1]-a[1],e[3]||(b[0]=Math.max(i[0],b[0])),e[1]||(b[0]=Math.min(j[0],b[0])),b[1]=c?a[1]+d/c*(b[0]-a[0]):b[1],e[0]||(b[1]=Math.max(i[1],b[1])),e[2]||(b[1]=Math.min(j[1],b[1])),b[0]=d?a[0]+c/d*(b[1]-a[1]):b[0],b},_isCircular:function(a,b,c,d){return a[0]&&b[1]<c[1]||a[1]&&b[0]>d[0]||a[2]&&b[1]>d[1]||a[3]&&b[0]<c[0]},_animateTo:function(a,b,c,d,e){var f=this._pos,g=this._getPointOfIntersection(f,a),h={depaPos:f.concat(),destPos:g,hammerEvent:e||null};!c&&e&&this.trigger("release",h),this._afterReleaseProcess(h,b,c,d)},_afterReleaseProcess:function(c,d,e,f){var g,h=this._pos,i=this.options.min,j=this.options.max,k=this.options.circular,l=this._isCircular(k,c.destPos,i,j),m=this._isOutToOut(h,c.destPos,i,j)?h:c.destPos,n=[Math.abs(m[0]-h[0]),Math.abs(m[1]-h[1])];f=null===f?this._getDurationFromPos(n):f,f=this.options.maximumDuration>f?f:this.options.maximumDuration;var o=a.proxy(function(a){this._status.animationParam=null,h[0]=Math.round(m[0]),h[1]=Math.round(m[1]),h=this._getCircularPos(h,i,j,k),!a&&this._setInterrupt(!1),d()},this);if(0===n[0]&&0===n[1])return o(!e);g={duration:f,depaPos:h.concat(),destPos:m,isBounce:e,isCircular:l,done:o,hammerEvent:c.hammerEvent};var p=this.trigger("animationStart",g);if(l&&!p)throw new Error("You can't stop the 'animation' event when 'circular' is true.");if(g.depaPos=h,g.startTime=(new Date).getTime(),this._status.animationParam=g,p)if(g.duration){var q=this._status.animationParam,r=this;!function s(){return r._raf=null,r._frame(q)>=1?o(!0):void(r._raf=b.requestAnimationFrame(s))}()}else this._triggerChange(g.destPos,!1),o(!e)},_frame:function(a){for(var b=new Date-a.startTime,c=this._easing(b/a.duration),d=[a.depaPos[0],a.depaPos[1]],e=0;2>e;e++)d[e]!==a.destPos[e]&&(d[e]+=(a.destPos[e]-d[e])*c);return d=this._getCircularPos(d),this._triggerChange(d,!1),c},_reviseOptions:function(b){var c;a.each(["bounce","margin","circular"],function(d,e){c=b[e],null!=c&&(b[e]=a.isArray(c)?2===c.length?c.concat(c):c.concat():/string|number|boolean/.test(typeof c)?[c,c,c,c]:null)}),a.extend(this.options,b)},_triggerChange:function(a,b,c){this._pos=a.concat(),this.trigger("change",{pos:a.concat(),holding:b,hammerEvent:c||null})},get:function(){return this._pos.concat()},setTo:function(a,b,c){this._grab();var d=this._pos.concat(),e=this.options.circular,f=this.options.min,g=this.options.max;return a===d[0]&&b===d[1]?this:(this._setInterrupt(!0),a!==d[0]&&(e[3]||(a=Math.max(f[0],a)),e[1]||(a=Math.min(g[0],a))),b!==d[1]&&(e[0]||(b=Math.max(f[1],b)),e[2]||(b=Math.min(g[1],b))),c?this._animateTo([a,b],this._animationEnd,!1,c):(this._pos=this._getCircularPos([a,b]),this._triggerChange(this._pos,!1),this._setInterrupt(!1)),this)},setBy:function(a,b,c){return this.setTo(null!=a?this._pos[0]+a:this._pos[0],null!=b?this._pos[1]+b:this._pos[1],c)},_easing:function(a){return a>1?1:this.options.easing(a,a,0,1,1)},_initSlope:function(){var b,c=this.options.easing,d=!1;for(b in a.easing)if(a.easing[b]===c){d=!~b.indexOf("Out");break}return d?c(.9999,.9999,0,1,1)/.9999:c(1e-5,1e-5,0,1,1)/1e-5},_setInterrupt:function(a){!this._subOptions.interruptable&&(this._status.prevented=a)},destroy:function(){this.off();for(var a in this._hammers)this._hammers[a].destroy(),this._hammers[a]=null}});e._KEY="__MOVABLECOORD__",e.DIRECTION_NONE=1,e.DIRECTION_LEFT=2,e.DIRECTION_RIGHT=4,e.DIRECTION_UP=8,e.DIRECTION_DOWN=16,e.DIRECTION_HORIZONTAL=6,e.DIRECTION_VERTICAL=24,e.DIRECTION_ALL=e.DIRECTION_HORIZONTAL|e.DIRECTION_VERTICAL}),eg.module("flicking",["jQuery",eg,window,document,eg.MovableCoord],function(a,b,c,d,e){var f={beforeFlickStart:"beforeFlickStart",beforeRestore:"beforeRestore",flick:"flick",flickEnd:"flickEnd",restore:"restore"},g=d.documentElement.style;g="transform"in g||"webkitTransform"in g;var h=c.CSS&&c.CSS.supports&&c.CSS.supports("will-change","transform"),i=b.agent().os;i="android"===i.name&&/^2\./.test(i.version),b.Flicking=b.Class.extend(b.Component,{_events:function(){return f},construct:function(c,d,f){if(this.$wrapper=a(c),!this.$wrapper[0]||!this.$wrapper[0].hasChildNodes())throw new Error("Given base element doesn't exist or it hasn't proper DOM structure to be initialized.");a.extend(this.options={hwAccelerable:b.isHWAccelerable(),prefix:"eg-flick",deceleration:6e-4,horizontal:!0,circular:!1,previewPadding:[0,0],threshold:40,duration:100,panelEffect:a.easing.easeOutCubic,defaultIndex:0,inputType:["touch","mouse"]},d);var g=this.options.previewPadding;"number"==typeof g?g=this.options.previewPadding=[g,g]:g.constructor!==Array&&(g=this.options.previewPadding=[0,0]),this._conf={panel:{$list:[],index:0,no:0,size:0,count:0,origCount:0,changed:!1,animating:!1,minCount:g[0]+g[1]>0?5:3},touch:{holdPos:[0,0],destPos:[0,0],distance:0,direction:null},customEvent:{},useLayerHack:this.options.hwAccelerable&&!h,dirData:[],indexToMove:0,triggerFlickEvent:!0,eventPrefix:f||"",$dummyAnchor:null},a([["LEFT","RIGHT"],["DOWN","UP"]][+!this.options.horizontal]).each(a.proxy(function(a,b){this._conf.dirData.push(e["DIRECTION_"+b])},this)),!b._hasClickBug()&&(this._setPointerEvents=function(){}),this._build(),this._bindEvents(),this._applyPanelsCss(),this._arrangePanels(),this.options.hwAccelerable&&h&&this._setHint(),this._adjustContainerCss("end")},_build:function(){var a,b=this._conf.panel,c=this.options,d=b.$list=this.$wrapper.children(),f=c.previewPadding.concat(),g=c.prefix,h=c.horizontal,i=b.count=b.origCount=d.length,j=[b.size=this.$wrapper[h?"width":"height"]()-(f[0]+f[1]),"100%"];this.$wrapper.css({padding:(h?"0 "+f.reverse().join("px 0 "):f.join("px 0 "))+"px",overflow:"hidden"}),this._getDataByDirection(j),d.addClass(g+"-panel").css({position:"absolute",width:j[0],height:j[1],top:0,left:0}),a="position:relative;z-index:2000;width:100%;height:100%;"+(h?"":"top:"+f[0]+"px;"),this.$container=d.wrapAll("<div class='"+g+"-container' style='"+a+"' />").parent(),this._addClonePanels()&&(i=b.count=(b.$list=this.$container.children()).length),this._mcInst=new e({min:[0,0],max:this._getDataByDirection([b.size*(i-1),0]),margin:0,circular:!1,easing:c.panelEffect,deceleration:c.deceleration}).bind(this.$wrapper,{scale:this._getDataByDirection([-1,0]),direction:e["DIRECTION_"+(h?"HORIZONTAL":"VERTICAL")],interruptable:!1,inputType:c.inputType}),this._setDefaultPanel(c.defaultIndex)},_addClonePanels:function(){var a,b=this._conf.panel,c=b.origCount,d=b.minCount-c,e=b.$list;if(this.options.circular&&c<b.minCount){for(a=e.clone();a.length<d;)a=a.add(e.clone());return this.$container.append(a)}},_movePanelPosition:function(b,c){var d,e=this._conf.panel,f=e.$list.toArray();d=f.splice(c?0:e.count-b,b),e.$list=a(c?f.concat(d):d.concat(f))},_setDefaultPanel:function(a){var b,c=this._conf.panel,d=c.count-1;this.options.circular?(a>0&&d>=a&&this._movePanelPosition(a,!0),this._movePanelPosition(this._getBasePositionIndex(),!1),c.no=a):a>0&&d>=a&&(c.index=a,b=[-(c.size*a),0],this._setTranslate(b),this._setMovableCoord("setTo",[Math.abs(b[0]),Math.abs(b[1])],!0,0))},_arrangePanels:function(a,b){var c=this._conf,d=c.panel,e=c.touch,f=c.dirData;this.options.circular&&(c.triggerFlickEvent=!1,a&&(b&&(e.direction=f[+!Boolean(b>0)]),this._arrangePanelPosition(e.direction,b)),d.index=this._getBasePositionIndex(),c.triggerFlickEvent=!!this._setMovableCoord("setTo",[d.size*d.index,0],!0,0)),this._applyPanelsPos()},_applyPanelsPos:function(){this._conf.panel.$list.each(a.proxy(this._applyPanelsCss,this))},_setMoveStyle:function(){return g?function(a,c){a.css("transform",b.translate(c[0],c[1],this._conf.useLayerHack))}:function(a,b){a.css({left:b[0],top:b[1]})}}(),_applyPanelsCss:function(){var b=this._conf,c="__dummy_anchor";i?(b.$dummyAnchor=a("."+c),!b.$dummyAnchor.length&&this.$wrapper.append(b.$dummyAnchor=a("<a href='javascript:void(0);' class='"+c+"' style='position:absolute;height:0px;width:0px;'>")),this._applyPanelsCss=function(b,c){var d=this._getDataByDirection([this._conf.panel.size*b+"px",0]);a(c).css({left:d[0],top:d[1]})}):this._applyPanelsCss=function(b,c){var d=this._getDataByDirection([g?100*b+"%":this._conf.panel.size*b+"px",0]);this._setMoveStyle(a(c),d)}},_adjustContainerCss:function(a,c){var d,e=this._conf,f=e.panel,g=this.options,h=g.horizontal,j=g.previewPadding[0],k=this.$container;i&&(c||(c=[-f.size*f.index,0]),"start"===a?(k=k[0].style,d=parseInt(k[h?"left":"top"],10),h?d&&(k.left=0):d!==j&&(k.top=j+"px"),this._setTranslate([-c[+!g.horizontal],0])):"end"===a&&(!h&&(c[0]+=j),c=this._getCoordsValue(c),k.css({left:c.x,top:c.y,transform:b.translate(0,0,e.useLayerHack)}),e.$dummyAnchor[0].focus()))},_setMovableCoord:function(a,b,c,d){return c&&this._getDataByDirection(b),this._mcInst[a](b[0],b[1],d)},_setHint:function(){var a="transform";this.$container.css("willChange",a),this._conf.panel.$list.css("willChange",a)},_getDataByDirection:function(a){return!this.options.horizontal&&a.reverse(),a},_arrangePanelPosition:function(a,b){var c=a===this._conf.dirData[0];this._movePanelPosition(Math.abs(b||1),c)},_getBasePositionIndex:function(){var a=this._conf.panel;return a.index=Math.floor(a.count/2-.1)},_bindEvents:function(){this._mcInst.on({hold:a.proxy(this._holdHandler,this),change:a.proxy(this._changeHandler,this),release:a.proxy(this._releaseHandler,this),animationStart:a.proxy(this._animationStartHandler,this),animationEnd:a.proxy(this._animationEndHandler,this)})},_holdHandler:function(a){this._conf.touch.holdPos=a.pos,this._conf.panel.changed=!1,this._adjustContainerCss("start",a.pos)},_changeHandler:function(a){var b=a.pos,c=null;this._setPointerEvents(a),this._conf.triggerFlickEvent&&(c=this._triggerEvent(f.flick,{pos:a.pos,holding:a.holding})),(c||null===c)&&this._setTranslate([-b[+!this.options.horizontal],0])},_releaseHandler:function(a){var b=this._conf.touch,c=a.destPos,d=+!this.options.horizontal,e=b.holdPos[d],f=this._conf.panel.size;b.distance=a.depaPos[d]-b.holdPos[d],b.direction=this._conf.dirData[+!Boolean(b.holdPos[d]<a.depaPos[d])],c[d]=Math.max(e-f,Math.min(e,c[d])),b.destPos[d]=c[d]=Math.round(c[d]/f)*f,0===b.distance&&this._adjustContainerCss("end"),this._setPointerEvents()},_animationStartHandler:function(a){var b=this._conf,c=b.panel,d={depaPos:a.depaPos,destPos:a.destPos};c.animating=!0,this._setPhaseValue("start",d)===!1&&a.stop(),a.hammerEvent&&(a.duration=this.options.duration),a.destPos[+!this.options.horizontal]=c.size*(c.index+this._conf.indexToMove),this._isMovable()?b.customEvent.restore=!1:(b.customEvent.restore=this._triggerEvent(f.beforeRestore,d),b.customEvent.restore||(a.stop(),c.animating=!1))},_animationEndHandler:function(){var a=this._conf.panel;this._setPhaseValue("end"),a.animating=!1,this._conf.customEvent.restore&&this._triggerEvent(f.restore)},_setPhaseValue:function(a,b){var c=this._conf,d=this.options,e=c.panel;if("start"===a&&(e.changed=this._isMovable())){if(0===c.indexToMove&&this._setPanelNo(),!this._triggerEvent(f.beforeFlickStart,b))return e.changed=e.animating=!1}else"end"===a&&(d.circular&&e.changed&&this._arrangePanels(!0,c.indexToMove),!i&&this._setTranslate([-e.size*e.index,0]),c.touch.distance=c.indexToMove=0,e.changed&&this._triggerEvent(f.flickEnd));!("start"===a&&void 0===b)&&this._adjustContainerCss(a)},_setPanelNo:function(a){var b=this._conf.panel,c=b.origCount-1,d=this._conf.touch.direction===this._conf.dirData[0]?1:-1;a?(b.index-=d,b.no-=d):(b.index+=d,b.no+=d),b.no>c?b.no=0:b.no<0&&(b.no=c)},_setPointerEvents:function(a){var b,c=this.$container.css("pointerEvents");a&&a.holding&&a.hammerEvent&&a.hammerEvent.preventSystemEvent&&"none"!==c?b="none":a||"auto"===c||(b="auto"),b&&this.$container.css("pointerEvents",b)},_getCoordsValue:function(a){return this._getDataByDirection(a),{x:this._getUnitValue(a[0]),y:this._getUnitValue(a[1])}},_setTranslate:function(a){var b=this.options;g||b.horizontal||(a[0]+=b.previewPadding[0]),a=this._getCoordsValue(a),this._setMoveStyle(this.$container,[a.x,a.y])},_getUnitValue:function(a){var b=/(?:[a-z]{2,}|%)$/;return(parseInt(a,10)||0)+(String(a).match(b)||"px")},_isMovable:function(){return Math.abs(this._conf.touch.distance)>=this.options.threshold},_triggerEvent:function(b,c){var d=this._conf,e=d.panel;return this.trigger(d.eventPrefix+b,c=a.extend({eventType:b,index:e.index,no:e.no,direction:d.touch.direction},c))},_getElement:function(b,c,d){var e,f,g,h=this._conf.panel,i=this.options.circular,j=h.index,k=b===this._conf.dirData[0],l=null;return d?(e=h.count,f=j):(e=h.origCount,f=h.no),g=f,k?e-1>f?f++:i&&(f=0):f>0?f--:i&&(f=e-1),g!==f&&(l=c?a(h.$list[k?j+1:j-1]):f),l},_setValueToMove:function(a){this._conf.touch.distance=this.options.threshold+1,this._conf.touch.direction=this._conf.dirData[+!a]},_getNumValue:function(a,b){return isNaN(a=parseInt(a,10))?b:a},getIndex:function(a){return this._conf.panel[a?"index":"no"]},getElement:function(){var b=this._conf.panel;return a(b.$list[b.index])},getNextElement:function(){return this._getElement(this._conf.dirData[0],!0)},getNextIndex:function(a){return this._getElement(this._conf.dirData[0],!1,a)},getAllElements:function(){return this._conf.panel.$list},getPrevElement:function(){return this._getElement(this._conf.dirData[1],!0)},getPrevIndex:function(a){return this._getElement(this._conf.dirData[1],!1,a)},getTotalCount:function(a){return this._conf.panel[a?"count":"origCount"]},isPlaying:function(){return this._conf.panel.animating},_movePanel:function(a,b){var c=this._conf.panel,d=this.options;return c.animating?void 0:(b=this._getNumValue(b,d.duration),this._setValueToMove(a),(d.circular||null!=this[a?"getNextIndex":"getPrevIndex"]())&&this._movePanelByPhase("setBy",[c.size*(a?1:-1),0],b),this)},_movePanelByPhase:function(a,b,c){!c&&this._setPhaseValue("start"),this._setMovableCoord(a,b,!0,c),!c&&this._setPhaseValue("end")},next:function(a){return this._movePanel(!0,a)},prev:function(a){return this._movePanel(!1,a)},moveTo:function(a,b){var c,d,e=this._conf.panel,f=this.options,g=e.index,h=0;return a=this._getNumValue(a),"number"!=typeof a||a>=e.origCount||a===e.no||e.animating?this:(b=this._getNumValue(b,f.duration),d=f.circular||a>=0&&a<e.origCount,f.circular?(c=[g,e.count-(g+1)],a>e.no?(h=a-e.no,h>c[1]&&(h=-(c[0]+1-(h-c[1])))):(h=-(e.no-a),Math.abs(h)>c[0]&&(h=c[1]+1-(Math.abs(h)-c[0]))),e.no=a,this._conf.indexToMove=h,this._setValueToMove(h>0),this._movePanelByPhase("setBy",[e.size*h,0],b)):d&&(e.no=e.index=a,this._movePanelByPhase("setTo",[e.size*a,0],b)),this)},resize:function(){var a=this._conf,b=a.panel,c=b.size=this.$wrapper.width(),d=[c*(b.count-1),0];return this.$container.width(d[0]+c),b.$list.css("width",c),this._mcInst.options.max=d,this._setMovableCoord("setTo",[c*b.index,0],!0,0),i&&(this._applyPanelsPos(),this._adjustContainerCss("end")),this},restore:function(){var a=this._conf,b=a.panel,c=this._getDataByDirection(this._mcInst.get())[0];return c%b.size&&(this._setPanelNo(!0),this._setMovableCoord("setTo",[b.size*b.index,0],!0,0),this._adjustContainerCss("end")),this}})});